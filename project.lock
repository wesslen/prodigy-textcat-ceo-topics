create-config:
  cmd: python -m spacy run create-config
  script:
    - python -m spacy init config configs/config.cfg --lang en --pipeline tok2vec,textcat_multilabel
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
db-in:
  cmd: python -m spacy run db-in
  script:
    - python -m prodigy db-in ceo_dataset assets/ceo_tech_dataset.jsonl
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
data-to-spacy:
  cmd: python -m spacy run data-to-spacy
  script:
    - python -m prodigy data-to-spacy corpus/ --textcat-multilabel ceo_dataset --config
      configs/config.cfg
  deps: []
  outs:
    - path: corpus/train.spacy
      md5: 350a20db190f3dc97653cc1850e819ca
    - path: corpus/dev.spacy
      md5: 15672f222e2e9ad6cc2845063722e294
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
train_spacy:
  cmd: python -m spacy run train_spacy
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --gpu-id -1
  deps:
    - path: corpus/train.spacy
      md5: 350a20db190f3dc97653cc1850e819ca
    - path: corpus/dev.spacy
      md5: 15672f222e2e9ad6cc2845063722e294
  outs:
    - path: training/model-best
      md5: bbe862fd5649421479c5d96ee768add4
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/dev.spacy --output training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: 15672f222e2e9ad6cc2845063722e294
    - path: training/model-best
      md5: bbe862fd5649421479c5d96ee768add4
  outs:
    - path: training/metrics.json
      md5: fcc320b4cc604e38fa98404576010269
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package training/model-best packages --name textcat_topics --version
      0.0.0 --force
  deps:
    - path: training/model-best
      md5: bbe862fd5649421479c5d96ee768add4
  outs:
    - path: packages/en_textcat_topics-0.0.0/dist/en_textcat_topics-0.0.0.tar.gz
      md5: a56343c1539ca642aa550ff6014bcd14
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
clean:
  cmd: python -m spacy run clean
  script:
    - rm -rf training
    - rm -rf corpus
    - rm -rf packages
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
train-spacy:
  cmd: python -m spacy run train-spacy
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --gpu-id -1
  deps:
    - path: corpus/train.spacy
      md5: 2c98b30c910e3edcf393c312c0e8a4bb
    - path: corpus/dev.spacy
      md5: dbd1aebd7b767b62d7c6fd7268c4d732
  outs:
    - path: training/model-best
      md5: e91b16f4d6caa9f036e229e0cb0d5cfa
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
merge:
  cmd: python -m spacy run merge
  script:
    - python -m prodigy db-merge ceo_dataset,ceo_teach ceo_combined
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
train-curve:
  cmd: python -m spacy run train-curve
  script:
    - python -m prodigy train-curve --textcat-multilabel ceo_dataset --gpu-id -1 --show-plot
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
data-to-spacy-teach:
  cmd: python -m spacy run data-to-spacy-teach
  script:
    - python -m prodigy data-to-spacy corpus/ --textcat-multilabel ceo_combined --config
      configs/config.cfg
  deps: []
  outs:
    - path: corpus/train.spacy
      md5: 2c98b30c910e3edcf393c312c0e8a4bb
    - path: corpus/dev.spacy
      md5: dbd1aebd7b767b62d7c6fd7268c4d732
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
document:
  cmd: python -m spacy run document
  script:
    - spacy project document --output README.md
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
